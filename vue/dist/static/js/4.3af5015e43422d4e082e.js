webpackJsonp([4],{"0SI0":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("Xxa5"),o=a.n(l),n=a("exGp"),r=a.n(n),s=a("gyMJ"),i={data:function(){return{tableData:[],Sname:"",updateForm:{},dialogFormVisible:!1,formLabelWidth:"120px"}},methods:{handleEdit:function(e,t){console.log(e,t),this.updateForm.staffid=t.STAFFID,this.dialogFormVisible=!0},getWagList:function(){var e=this;return r()(o.a.mark(function t(){var a,l;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(s.h)({name:e.Sname});case 3:if(1==(a=t.sent).code){for(console.log(a),e.tableData=a.data,l=0;l<e.tableData.length;l++)e.tableData[l].WAGE=e.tableData[l].HOURWAGE*e.tableData[l].WORKTIME;console.log(e.tableData),e.loading=!1}else e.$message.error(a.message),e.loading=!1;t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0),e.loading=!1;case 11:case"end":return t.stop()}},t,e,[[0,7]])}))()},updateWag:function(){var e=this;return r()(o.a.mark(function t(){var a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(s.n)({staffid:e.updateForm.staffid,hourwage:e.updateForm.hourwage});case 3:1==(a=t.sent).code?(console.log(a),console.log(e.tableData),e.loading=!1):(e.$message.error(a.message),e.loading=!1),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0),e.loading=!1;case 11:e.dialogFormVisible=!1,e.updateForm={},e.getWagList();case 14:case"end":return t.stop()}},t,e,[[0,7]])}))()}},created:function(){this.getWagList()}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",[a("div",{staticClass:"wrapper"},[a("nav",{staticClass:"app-location-wrapper"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("工资管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("工资信息")]),e._v(" "),a("el-breadcrumb-item",[e._v("工资列表")])],1)],1),e._v(" "),a("div",{staticClass:"component-top clearFix"},[a("div",{staticClass:"search-title fl"},[e._v("员工姓名：")]),e._v(" "),a("el-input",{staticClass:"input",attrs:{size:"small",placeholder:"员工姓名","prefix-icon":"el-icon-search"},model:{value:e.Sname,callback:function(t){e.Sname=t},expression:"Sname"}})],1),e._v(" "),a("div",{staticClass:"component-content"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{label:"id"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(t.row.STAFFID)+"\n                  ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"姓名"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(t.row.NAME)+"\n                  ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"电话"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(t.row.PHONE)+"\n                  ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"岗位"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(t.row.POST)+"\n                  ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"工时"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(t.row.WORKTIME)+"\n                  ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"时薪"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(t.row.HOURWAGE)+"\n                  ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"工资（工时*时薪）"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(t.row.WAGE)+"\n                  ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"280"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.handleEdit(t.$index,t.row)}}},[e._v("修改")])]}}])})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"修改工资",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{model:e.updateForm}},[a("el-form-item",{attrs:{label:"员工id","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.updateForm.staffid,callback:function(t){e.$set(e.updateForm,"staffid",t)},expression:"updateForm.staffid"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"时薪","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.updateForm.hourwage,callback:function(t){e.$set(e.updateForm,"hourwage",t)},expression:"updateForm.hourwage"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.updateWag}},[e._v("确 定")])],1)],1)],1)])},staticRenderFns:[]};var u=a("VU/8")(i,c,!1,function(e){a("FwqU")},null,null);t.default=u.exports},FwqU:function(e,t){}});